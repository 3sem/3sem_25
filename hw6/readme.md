## Программа-демон

### Запуск

Запуск по команде 
```
make
```
будут скомпилированы исполняемые файлы программ daemon и client. Запуск с аргументами - пид некоторого процесса для слежения и режим. Режим демона - "-d", интерактивный режим - "-i" или без указания режима. Клиент запускается без аргументов.

У клиента несколько команд

**diffback n filename** - вывод состояния файла filename на момент n диффов назад от текущего 

**prevdiff filename** - вывод состояния файла filename на один дифф назад

**sampleback n filename** - вывод состояния файла filename на момент n семплов назад от текущего 

**sample** - вывод текущего семпла

**newpid n** - смена пида процесса на n (при этом количество семплов обнуляется, а папка бэкапов пересоздается)

**exit** - остановка демона

В течение работы в папке, где находится исполняемый файл программы-демона создается папка backups, в ней по мере изменения файлов в рабочей директории (в которой находится файл, за которым демон следит) будут создаваться подпапки по названию изменяемого текстового файла. При первом обращении в нужной подпапке создается файл full.txt, содержащий полный бэкап файла, затем создаются файлы samplenum.diff, содержащие дифф между текущим состоянием файла и предыдущим диффом (все имеющиеся на данный момент диффы накатываются на файл full.txt). 

По командам для вывода предыдущего состояния будет показываться не дифф, а именно состояние файла - полный текст.

В интерактивном режиме вывод будет происходить в терминал, а в режиме демона - в сислог. Посмотреть сислоги можно по команде 
```
sudo tail -f /var/log/syslog
```

Будут отображаться также посланные клиентом команды (для удобства) и некоторые сообщения, поясняющие некоторые команды (к примеру, если в diffback n больше текущего имеющегося количества диффов, это будет сообщено и выведется изначальный файл full.txt). В сислоге файлы отображаются построчно

Для проверки также есть папки test и test2, в них программы, запускающиеся по команде 
```
./prog
```
они отображают свой пид, так что на этих двух программах можно проверить все функции демона.